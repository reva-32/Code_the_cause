export const TOPIC_TEST = [
  // --- CLASS 1 ---
  {
    topic: "Addition",
    subject: "maths",
    level: "Class1",
    questions: [
      { question: "5 + 3 = ?", options: ["8", "53", "9", "7"], answer: "8" },
      { question: "2 + 6 = ?", options: ["6", "8", "12", "4"], answer: "8" },
      { question: "4 + 7 = ?", options: ["11", "47", "10", "12"], answer: "11" },
      { question: "1 + 9 = ?", options: ["10", "19", "11", "9"], answer: "10" },
      { question: "3 + 5 = ?", options: ["8", "35", "7", "9"], answer: "8" },
    ],
  },
  {
  topic: "Subtraction",
  subject: "maths",
  level: "Class1",
  questions: [
    { question: "8 - 3 = ?", options: ["5", "11", "6", "4"], answer: "5" },
    { question: "10 - 4 = ?", options: ["14", "6", "5", "7"], answer: "6" },
    { question: "5 - 5 = ?", options :["5", "1", "10", "0"], answer: "0" },
    { question: "7 - 2 = ?", options: ["9", "5", "4", "6"], answer: "5" },
    { question: "9 - 1 = ?", options: ["10", "7", "8", "9"], answer: "8" },
  ]
  },
  {
    topic: "Good Habits",
    subject: "science",
    level: "Class1",
    questions: [
      { question: "When should we wash hands?", options: ["Before eating", "After sleeping", "Never", "Only on Sundays"], answer: "Before eating" },
      { question: "Which is a bad habit?", options: ["Sharing toys", "Biting nails", "Helping others", "Waking up early"], answer: "Biting nails" },
      { question: "Should we cover our mouth while sneezing?", options: ["Yes", "No"], answer: "Yes" },
      { question: "Which is good for health?", options: ["Eating junk food", "Eating fruits", "Drinking soda", "Watching TV all day"], answer: "Eating fruits" },
      { question: "How many times should we brush daily?", options: ["Once", "Twice", "Zero", "Five times"], answer: "Twice" },
    ],
  },

  // --- CLASS 2 ---
  {
    topic: "Multiplication",
    subject: "maths",
    level: "Class2",
    questions: [
      { question: "6 × 7 = ?", options: ["42", "13", "67", "36"], answer: "42" },
      { question: "5 × 8 = ?", options: ["40", "13", "58", "35"], answer: "40" },
      { question: "4 × 9 = ?", options: ["36", "49", "45", "34"], answer: "36" },
      { question: "3 × 7 = ?", options: ["21", "37", "17", "24"], answer: "21" },
      { question: "8 × 6 = ?", options: ["48", "86", "14", "56"], answer: "48" },
    ],
  },
  {
    topic: "Water Cycle",
    subject: "science",
    level: "Class2",
    questions: [
      { question: "Water turning into gas is?", options: ["Evaporation", "Freezing", "Rain", "Melting"], answer: "Evaporation" },
      { question: "Clouds are made of tiny water droplets. This is?", options: ["Condensation", "Heating", "Drying", "Flowing"], answer: "Condensation" },
      { question: "Rain falling from clouds is?", options: ["Precipitation", "Swimming", "Wind", "Shining"], answer: "Precipitation" },
      { question: "What provides heat for the water cycle?", options: ["Moon", "Sun", "Stars", "Wind"], answer: "Sun" },
      { question: "Where does most water evaporate from?", options: ["Mountains", "Oceans", "Deserts", "Forests"], answer: "Oceans" },
    ],
  },
  
  // --- CLASS 3 ---
  {
    topic: "Fractions",
    subject: "maths",
    level: "Class3",
    questions: [
      { question: "What is 1/2 of 12?", options: ["6", "4", "2", "8"], answer: "6" },
      { question: "In 3/4, which is the denominator?", options: ["3", "4", "7", "1"], answer: "4" },
      { question: "Which fraction is the largest?", options: ["1/4", "2/4", "3/4", "4/4"], answer: "4/4" },
      { question: "If you cut a pizza into 4 equal slices, 1 slice is?", options: ["1/2", "1/4", "1/3", "4/1"], answer: "1/4" },
      { question: "What is 1/3 of 9?", options: ["3", "1", "6", "9"], answer: "3" },
    ],
  },
  {
    topic: "Living and Non-Living",
    subject: "science",
    level: "Class3",
    questions: [
      { question: "Which of these can grow?", options: ["Car", "Plant", "Table", "Fan"], answer: "Plant" },
      { question: "Living things need what to breathe?", options: ["Air", "Food", "Water", "Light"], answer: "Air" },
      { question: "Which is a non-living thing?", options: ["Dog", "Robot", "Tree", "Fish"], answer: "Robot" },
      { question: "Living things can produce babies. This is?", options: ["Eating", "Reproduction", "Sleeping", "Walking"], answer: "Reproduction" },
      { question: "Do non-living things need food?", options: ["Yes", "No"], answer: "No" },
    ],
  },

  // --- CLASS 4 ---
  {
    topic: "Multiples and Factors",
    subject: "maths",
    level: "Class4",
    questions: [
      { question: "Which is a multiple of 8?", options: ["12", "16", "20", "25"], answer: "16" },
      { question: "Which is a factor of 15?", options: ["2", "4", "5", "6"], answer: "5" },
      { question: "Which number is a factor of every number?", options: ["0", "1", "2", "10"], answer: "1" },
      { question: "The first three multiples of 3 are?", options: ["3,6,9", "1,2,3", "3,4,5", "0,3,6"], answer: "3,6,9" },
      { question: "Which is NOT a factor of 20?", options: ["2", "4", "5", "3"], answer: "3" },
    ],
  },
  {
    topic: "Parts of Plant",
    subject: "science",
    level: "Class4",
    questions: [
      { question: "Which part makes food for plant?", options: ["Leaf", "Root", "Flower", "Fruit"], answer: "Leaf" },
      { question: "Which part absorbs water from soil?", options: ["Stem", "Root", "Leaf", "Petal"], answer: "Root" },
      { question: "The 'Food Factory' of a plant is?", options: ["Roots", "Leaves", "Stem", "Seed"], answer: "Leaves" },
      { question: "Which part holds the plant straight?", options: ["Stem", "Leaf", "Root", "Bud"], answer: "Stem" },
      { question: "Which part turns into a fruit?", options: ["Root", "Stem", "Flower", "Leaf"], answer: "Flower" },
    ],
  },
  

  // --- CLASS 5 ---
  {
    topic: "Units of Measurement",
    subject: "maths",
    level: "Class5",
    questions: [
      { question: "1 Kilometer = ?", options: ["100m", "1000m", "500m", "10m"], answer: "1000m" },
      { question: "How many ml are in 3 liters?", options: ["300ml", "3000ml", "30ml", "500ml"], answer: "3000ml" },
      { question: "Standard unit of weight is?", options: ["Meter", "Liter", "Gram", "Second"], answer: "Gram" },
      { question: "500 cm = ?", options: ["5m", "50m", "0.5m", "500m"], answer: "5m" },
      { question: "Which is heavier: 1kg or 500g?", options: ["1kg", "500g", "Both same"], answer: "1kg" },
    ],
  },
  {
    topic: "Photosynthesis",
    subject: "science",
    level: "Class5",
    questions: [
      { question: "Plants take in which gas for photosynthesis?", options: ["Oxygen", "Carbon Dioxide", "Nitrogen", "Argon"], answer: "Carbon Dioxide" },
      { question: "What is the green substance in leaves?", options: ["Xylem", "Phloem", "Chlorophyll", "Root"], answer: "Chlorophyll" },
      { question: "Photosynthesis happens mostly in?", options: ["Roots", "Stem", "Leaves", "Flowers"], answer: "Leaves" },
      { question: "Which energy is used by plants?", options: ["Electrical", "Solar/Sunlight", "Nuclear", "Wind"], answer: "Solar/Sunlight" },
      { question: "Product of photosynthesis is?", options: ["Glucose and Oxygen", "Salt and Water", "Dust", "Smoke"], answer: "Glucose and Oxygen" },
    ],
  },
  
];

// NEW: Simplification logic - reduces complexity but keeps total count exact
export function getSimplifiedQuestions(questions, subject) {
  return questions.map((q, index) => {
    if (subject === "maths") {
      // Logic: Convert complex math to basic addition/identity
      return { 
        ...q, 
        question: `Basic Task ${index + 1}: ${index + 1} + 1 = ?`, 
        options: [`${index + 2}`, `${index + 5}`, "0", "10"], 
        answer: `${index + 2}` 
      };
    } else {
      // Logic: Simplify Science to Yes/No or Basic Identification
      return { 
        ...q, 
        question: `Simple Science: Is a ${q.answer} something we can see?`, 
        options: ["Yes", "No", "Maybe", "Never"], 
        answer: "Yes" 
      };
    }
  });
}

export function evaluateTopicTest(questions, answers) {
  let correct = 0;
  questions.forEach((q, i) => {
    if (answers[i] === q.answer) correct++;
  });
  return Math.round((correct / questions.length) * 100);
}